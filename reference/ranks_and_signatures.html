<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extracts ranks and signatures from a FacileAnalysisResult. — ranks • FacileAnalysis</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Extracts ranks and signatures from a FacileAnalysisResult. — ranks" />
<meta property="og:description" content="(Note: there is a lot of philosophizing going on here).
It is often the case that an analysis over a set of features (or samples)
induces a ranking over the features (or samples), which is determend by the
test performed in the analysis. The ranks() and signatures() functions
returns a ranking induced over the features (or samples) from the analysis." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FacileAnalysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.98.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/FacileAnalysis-RNAseq.html">RNA-seq Analysis: The Facile Way</a>
    </li>
    <li>
      <a href="../articles/FacileAnalysis-examples.html">Reproducing genomic anlayses the facile way</a>
    </li>
    <li>
      <a href="../articles/FacileAnalysis-fdge.html">Facile Differential Expression Analysis</a>
    </li>
    <li>
      <a href="../articles/FacileAnalysis-fpca.html">Facile Principal Components Analysis</a>
    </li>
    <li>
      <a href="../articles/FacileAnalysis-fsea.html">Facile (Gene) Set Expression Analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/facilebio/FacileAnalysis/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extracts ranks and signatures from a FacileAnalysisResult.</h1>
    <small class="dont-index">Source: <a href='https://github.com/facilebio/FacileAnalysis/blob/master/R/api.R'><code>R/api.R</code></a></small>
    <div class="hidden name"><code>ranks_and_signatures.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>(Note: there is a lot of philosophizing going on here).
It is often the case that an analysis over a set of features (or samples)
induces a ranking over the features (or samples), which is determend by the
test performed in the analysis. The <code>ranks()</code> and <code>signatures()</code> functions
returns a ranking induced over the features (or samples) from the analysis.</p>
    </div>

    <pre class="usage"><span class='fu'>ranks</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <code>FacileAnalysisResult</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When an analysis imposes ranks, this usually only occurs over only one of
"features" or "samples" used in the analysis. In the even that both of these
can be ranked, then these functions will accept a <code>type</code> argument which you
can parameterize with by either <code>"features"</code> or <code>"samples"</code>.</p>
<p>Signatures are essentially a summary extracted from the ranks. This is most
often the "topn" ranks returned from the analysis (or a dimension thereof).</p>
    <h2 class="hasAnchor" id="signed-and-unsigned-ranks"><a class="anchor" href="#signed-and-unsigned-ranks"></a>Signed and Unsigned Ranks</h2>

    

<p>Let's consider a differential gene expression (DGE) analysis, where we are
testing the differential abundance of a gene across two groups of samples.
The result of the analysis can induce both a signed and unsigned ranking on
the genes under test.</p><pre><span class='va'>dge</span> <span class='op'>&lt;-</span> <span class='fu'>FacileData</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/FacileData/man/exampleFacileDataSet.html'>exampleFacileDataSet</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'>FacileData</span><span class='fu'>::</span><span class='fu'>filter_samples</span><span class='op'>(</span><span class='va'>indication</span> <span class='op'>==</span> <span class='st'>"BLCA"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='flm_def.html'>flm_def</a></span><span class='op'>(</span>covariate <span class='op'>=</span> <span class='st'>"sample_type"</span>,numer <span class='op'>=</span> <span class='st'>"tumor"</span>, denom <span class='op'>=</span> <span class='st'>"normal"</span>,
          batch <span class='op'>=</span> <span class='st'>"sex"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='fdge.html'>fdge</a></span><span class='op'>(</span><span class='op'>)</span>
</pre>

<p>Ranking the results of the DGE by ascending <em>p</em>-value will provide an
<strong>unsigned</strong> ranking on the genes: Alternatively, one could get a <strong>signed</strong>
ranking from the result of this test simply by arranging each gene by its
log-fold-change. Both approaches are achieved by the code below:</p><pre><span class='va'>uranks</span> <span class='op'>&lt;-</span> <span class='fu'>ranks</span><span class='op'>(</span><span class='va'>dge</span>, signed <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>sranks</span> <span class='op'>&lt;-</span> <span class='fu'>ranks</span><span class='op'>(</span><span class='va'>dge</span>, signed <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</pre>

<p>rank each gene by its <em>p</em>-value (ascending).</p>
    <h2 class="hasAnchor" id="ranks-differential-expression-"><a class="anchor" href="#ranks-differential-expression-"></a>Ranks (Differential Expression)</h2>

    

<p>Any differential gene expression analysis works over a set of samples in
order to find which genes are most differentially abundant between the two
conditions that are defined by the sample groups. It's clear to see, here,
that this analysis induces a ranking over the <em>features</em> (genes). This
ranking can be both signed or unsigned.</p>
    <h2 class="hasAnchor" id="signature-differential-expression-"><a class="anchor" href="#signature-differential-expression-"></a>Signature (Differential Expression)</h2>

    


    <h2 class="hasAnchor" id="ranks-pca-"><a class="anchor" href="#ranks-pca-"></a>Ranks (PCA)</h2>

    


    <h2 class="hasAnchor" id="signature-pca-"><a class="anchor" href="#signature-pca-"></a>Signature (PCA)</h2>

    


    <h2 class="hasAnchor" id="signatures-and-ranks-for-all-things"><a class="anchor" href="#signatures-and-ranks-for-all-things"></a>Signatures and Ranks for all things</h2>

    


<p>Think about how the next analysis you implement fits this scenario.</p>
<p>Perhaps we can consider an e-/p-/etc- *QTL analysis is on whose features are
SNPs, which we can rank by ones that have strong association with the
quantitative phenotypes under test.</p>
    <h2 class="hasAnchor" id="why-is-this-a-formalism-in-the-facileverse"><a class="anchor" href="#why-is-this-a-formalism-in-the-facileverse"></a>Why is this a formalism in the FacileVerse</h2>

    

<p>I feel like being able to generate succinct summaries of an analysis will
more easily enable the analyst (via GUI or code) to dive back in and ask
another question. That question might be as simple as "how does this version
of my question compare to a slightly different version?"</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steve Lianoglou, Denali Therapeutics.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


